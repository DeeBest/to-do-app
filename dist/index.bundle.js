(()=>{"use strict";const e=document.createElement("div");e.id="header";const t=document.createElement("h1");t.textContent="To-Do-App";const n=document.createElement("hr");function d(e){localStorage.setItem("projects",JSON.stringify(e))}function a(){return JSON.parse(localStorage.getItem("projects"))||[]}function c(){p.innerHTML="";let e=a().sort(((e,t)=>e.isChecked&&!t.isChecked?1:!e.isChecked&&t.checked?-1:0));e.forEach((t=>{const n=document.createElement("div");n.classList.add("projectItem"),p.appendChild(n);let a=document.createElement("div");a.classList.add("projectHeader"),n.appendChild(a);let o=document.createElement("div");o.classList.add("projectNameAndCheckBoxDiv"),a.appendChild(o);let l=document.createElement("div");l.classList.add("dueDateAndArrowDiv"),a.appendChild(l);let i=document.createElement("input");i.classList.add("projectCheckBox"),i.type="checkbox",i.checked=t.isChecked,o.appendChild(i);let r=document.createElement("span");r.className="projectName",r.classList.add(`${t.isChecked&&"completedProject"}`),r.textContent=t.name,o.appendChild(r);let s=document.createElement("span");s.className="dueDate",s.classList.add(`${t.isChecked&&"completedProject"}`),s.textContent=t.dueDate,l.appendChild(s);let m=document.createElement("span");m.className="arrowSpan",m.classList.add(`${t.isChecked&&"hideArrowSpan"}`),m.textContent="â–¼",l.appendChild(m);let u=document.createElement("div");u.classList.add("projectBody"),n.appendChild(u);let h=document.createElement("div");h.classList.add("notesDiv"),u.appendChild(h);let C=document.createElement("h3");C.classList.add("notesHeading"),C.textContent="Notes",h.appendChild(C);let E=document.createElement("textarea");E.classList.add("notesTextarea"),E.placeholder="Notes about the project...",E.value=t.notes,h.appendChild(E);let L=document.createElement("div");L.classList.add("dueDateDiv"),u.appendChild(L);let v=document.createElement("h3");v.classList.add("dueDateHeading"),v.textContent="Due Date",L.appendChild(v);let y=document.createElement("input");y.classList.add("dueDateInput"),y.type="date",L.appendChild(y);let g=document.createElement("div");g.classList.add("priorityDiv"),u.appendChild(g);let j=document.createElement("h3");j.classList.add("priorityHeading"),j.textContent="Priority",g.appendChild(j);let x=document.createElement("select");x.classList.add("prioritySelect"),g.appendChild(x),["Low","Medium","High"].forEach((e=>{const t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,x.appendChild(t)})),x.value=t.priority;let f=document.createElement("div");f.classList.add("deleteProjectBtnDiv"),u.appendChild(f);let D=document.createElement("button");function S(){"high"===t.priority?n.style.borderLeft="15px solid red":"medium"===t.priority?n.style.borderLeft="15px solid yellow":n.style.borderLeft="15px solid green"}D.classList.add("removeProjectBtn"),D.textContent="Delete",f.appendChild(D),m.addEventListener("click",(function(){u.classList.toggle("show"),m.classList.toggle("arrowSpanUp")})),i.addEventListener("change",(()=>{const a=n.querySelector(".projectName").textContent,o=e.filter((e=>e.name===a));o&&(i.checked?(t.isChecked=!0,d(e)):(t.isChecked=!1,d(e))),n.querySelector(".projectName").classList.toggle("completedProject"),n.querySelector(".dueDate").classList.toggle("completedProject"),n.querySelector(".arrowSpan").classList.toggle("hideArrowSpan"),c()})),E.addEventListener("change",(a=>{const c=n.querySelector(".projectName").textContent,o=e.filter((e=>e.name===c));o&&(t.notes=a.target.value),d(e)})),S(),x.addEventListener("change",(function(){const a=n.querySelector(".projectName").textContent,c=e.filter((e=>e.name===a));c&&(t.priority=this.value),d(e),S()})),y.addEventListener("change",(function(){const a=n.querySelector(".projectName").textContent,c=e.filter((e=>e.name===a));if(c){const n=this.value,[a,c,o]=n.split("-"),l=`${o}/${c}/${a}`;t.dueDate=l,s.textContent=t.dueDate,d(e)}})),D.addEventListener("click",(()=>{n.remove();const t=n.querySelector(".projectName").textContent,a=e.findIndex((e=>e.name===t));-1!==a&&(e.splice(a,1),d(e))}))}))}e.appendChild(t),e.appendChild(n);let o=[];const l=document.createElement("div");l.id="main";const i=document.createElement("form");i.id="projectForm",l.appendChild(i);let r=document.createElement("input");r.id="projectNameInput",r.type="text",r.placeholder="Project name...",i.appendChild(r);const s=document.createElement("button");s.id="submitProjectBtn",s.type="submit",s.textContent="+Project",s.addEventListener("click",(e=>{e.preventDefault(),""!==r.value&&r.value.length>=1?(function(){let e=new class{constructor(e){this.id=(new Date).getTime(),this.name=e,this.notes="",this.dueDate="",this.priority="Low",this.isChecked=!1}}(r.value),t=a();t.push(e),o=t,d(o),r.value="",c()}(),r.placeholder="Project name...",r.style.outline="none"):(r.placeholder="Please enter a project name with 1 or more characters",r.style.outline="3px solid maroon")})),i.appendChild(s);const p=document.createElement("div");p.id="projectsContainer",l.appendChild(p);const m=document.createElement("div");m.id="footer";let u=(new Date).getFullYear();const h=document.createElement("p");h.innerHTML=`&copy Created by Simphiwe ${u}.`,m.appendChild(h),(()=>{const t=document.querySelector("body");t.id="page",t.appendChild(e),t.appendChild(l),t.appendChild(m),c()})()})();